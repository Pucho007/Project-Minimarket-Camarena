<div class="d-flex justify-content-center text-center" style="padding-top:26px">
  <h2><strong>Mantener informacion de los Productos</strong></h2>
</div>
<br>


<div class="col-md-12 mantenerproducto" >
  <form (ngSubmit)="onSubmit()">
    <div class="container">
      <div class="row py-2">
        <div class="col-md-3"></div>
        <div class="col-md-6">


          <div class="form-row py-2">
            <div class="col-md-4">
              <p><strong>NOMBRE:</strong></p>
            </div>
            <div class="col-md-8">
              <input type="text" class="form-control" placeholder="Ingrese nombre del producto" required
                [(ngModel)]="producto.nombre" name="nombre">
            </div>
          </div>

          <div class="form-row py-2">
            <div class="col-md-4">
              <p><strong>COSTO:</strong></p>
            </div>
            <div class="col-md-8">
              <input type="text" class="form-control" placeholder="Ingrese el costo" required
                [(ngModel)]="producto.precio" name="precio">
            </div>
          </div>

          <div class="form-row py-2">
            <div class="col-md-4">
              <p><strong>DESCRIPCIÓN:</strong></p>
            </div>
            <div class="col-md-8">
              <input type="text" class="form-control" placeholder="descripción del producto" required
                [(ngModel)]="producto.descripcion" name="descripcion">
            </div>
          </div>

          <div class="form-row py-2">
            <div class="col-md-4">
              <p><strong>CANTIDAD:</strong></p>
            </div>
            <div class="col-md-8">
              <input type="number" class="form-control" placeholder="Ingrese la cantidad" required
                [(ngModel)]="producto.stock" name="stock">
            </div>
          </div>
        </div>
      </div> <br>
      <div class="d-flex flex-row justify-content-center mt-2">
        <div class="col-6 col-md-3">
          <button type="submit" class="btn btn-primary btn-block"><em class="fas fa-plus-circle"></em> AÑADIR</button>
        </div>
      </div>
    </div>
  </form>
  <br> <br>




  <div class="container mt-2 ">
    <div class="row  justify-content-center ">

      <div class="col-8 col-md-10">
        <input type="text" class="form-control" placeholder="Buscar Producto..." [(ngModel)]="buscar" name="buscar">
      </div>
    </div>
  </div>




  <div class="container mt-4">
    <div class="table-responsive">
      <table class="table table-striped table-hover" aria-describedby="mantener producto">
        <thead class="thead-dark">
          <tr>
            <th class="text-center" scope="col">Código</th>
            <th class="text-center" scope="col">Nombre</th>
            <th class="text-center" scope="col">Descripción</th>
            <th class="text-center" scope="col">Costo S/.</th>
            <th class="text-center" scope="col">Cantidad</th>
            <th class="text-center" scope="col">Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let producto of productos |filterproducto:buscar">
            <td class="text-center">{{producto.producto_id}}</td>
            <td class="text-center">{{producto.nombre}}</td>
            <td class="text-center">{{producto.descripcion}}</td>
            <td class="text-center">{{producto.precio}}</td>
            <td class="text-center">{{producto.stock}}</td>
            <td class="text-center">
              <div role="group" class="mb-2 btn-group-md btn-group">
                <button type="button" class="btn btn-success" data-toggle="modal" data-target="#actualizarModal"
                  (click)="editarProducto(producto)">
                  Actualizar
                </button>
                <button (click)="eliminarProducto(producto.producto_id)"
                  class="btn-shadow btn-hover-shine btn btn-danger btn-md btn-pill pr-3" title="Eliminar">
                  <em class="fa fa-trash" aria-hidden="true"></em>
                </button>
              </div>
            </td>
          </tr>

        </tbody>

      </table>
    </div>
  </div>




  <!-- Modal -->
  <div class="modal fade" id="actualizarModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Actualizar Producto</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">

          <form #updateForm="ngForm" (ngSubmit)="actualizarProducto()">
            <div class="container">
              <div class="row py-2">
                <div class="col-md-3"></div>
                <div class="col-md-12">
                  <div class="form-row py-2">
                    <div class="col-md-4">
                      <p><strong>CÓDIGO:</strong></p>
                    </div>
                    <div class="col-md-8">
                      <input type="text" disabled class="form-control" placeholder="Ingrese el código" required
                        #producto_id [(ngModel)]="productoUpdate.producto_id" name="producto_id">
                    </div>
                  </div>

                  <div class="form-row py-2">
                    <div class="col-md-4">
                      <p><strong>NOMBRE:</strong></p>
                    </div>
                    <div class="col-md-8">
                      <input type="text" class="form-control" placeholder="Ingrese nombre del producto" required #nombre
                        [(ngModel)]="productoUpdate.nombre" name="nombre">
                    </div>
                  </div>

                  <div class="form-row py-2">
                    <div class="col-md-4">
                      <p><strong>COSTO:</strong></p>
                    </div>
                    <div class="col-md-8">
                      <input type="text" class="form-control" placeholder="Ingrese el costo" required #precio
                        [(ngModel)]="productoUpdate.precio" name="precio">
                    </div>
                  </div>

                  <div class="form-row py-2">
                    <div class="col-md-4">
                      <p><strong>DESCRIPCIÓN:</strong></p>
                    </div>
                    <div class="col-md-8">
                      <input type="text" class="form-control" placeholder="descripción del producto" required
                        #descripcion [(ngModel)]="productoUpdate.descripcion" name="descripcion">
                    </div>
                  </div>

                  <div class="form-row py-2">
                    <div class="col-md-4">
                      <p><strong>CANTIDAD:</strong></p>
                    </div>
                    <div class="col-md-8">
                      <input type="number" class="form-control" placeholder="Ingrese la cantidad" required #cantidad
                        [(ngModel)]="productoUpdate.stock" name="stock">
                    </div>
                  </div>
                </div>
              </div> <br>
              <div class="d-flex flex-row justify-content-center mt-2">
                <div class="col-6 col-md-6">
                  <button type="submit" class="btn btn-success btn-block">

                    ACTUALIZAR
                  </button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>